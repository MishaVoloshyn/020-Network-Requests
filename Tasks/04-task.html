<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 04</title>
</head>

<body>
    <script>
        /*
        Задание:
        Напишите сценарий, который выполняет GET запрос по адресу https://jsonplaceholder.typicode.com/todos
        И выводит содержимое ответа в виде таблицы.
        */
        const url = "https://jsonplaceholder.typicode.com/todos";

        
        const request = new Request(url);

       
        fetch(request)
            .then((response) => {
                if (response.ok) {
                    const data = response.json();
                    console.log(data);
                } else {
                    console.log("Ошибка:", response.status);
                }
            })
            .catch((error) => {
                console.log(error);
            });


        const promise = fetch(url);


        promise
            .then(response => {
                if (response.ok) {
                    const data = response.json();

                    const table = document.createElement("table");
                    table.classList.add("table", "table-bordered", "table-striped");

                    for (const todo of data) {
                        const row = table.insertRow();

                        const idCell = row.insertCell();
                        const titleCell = row.insertCell();
                        const completedCell = row.insertCell(completedCell.cellIndex + 1);

                        idCell.textContent = todo.id;
                        titleCell.textContent = todo.title;
                    }


                    document.body.appendChild(table);
                } else {
                    alert(response.status);
                }
            })
            .catch(error => console.log(error.message));



    </script>
</body>

</html>